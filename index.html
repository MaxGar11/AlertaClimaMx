<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlertaClimaMX</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome para iconos -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style_dash.css" />
    <link rel="shortcut icon" href="/img/favicon.ico" />
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Adaptador para fechas -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2.0.0"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light">
      <!-- style="background-color: #071349" -->
      <div class="container">
        <a class="navbar-brand" href="#" style="z-index: 2">
          <img
            src="img/imagotipo_final1.png"
            alt="Clima México"
            width="450"
            height="140"
            class="img-fluid"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
          style="z-index: 2"
        >
          <div>
            <!-- Menú de navegación -->
            <ul class="navbar-nav text-end">
              <li class="nav-item">
                <a class="nav-link text-white" href="index.html">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white" href="nosotros.html">Nosotros</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white" href="#">Botón</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white" href="#">Botón</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <div class="container py-4" style="z-index: 2">
      <!-- Header -->
      <div class="page-header" style="z-index: 2">
        <div
          class="d-flex justify-content-between align-items-center flex-wrap"
          style="z-index: 2"
        >
          <div style="z-index: 2">
            <h1 class="h2 mb-1" style="z-index: 2">Datos Meteorológicos</h1>
            <p class="text-muted mb-0" style="z-index: 2">
              Estos datos recopilados muestran algunas de las condiciones que
              deben de tomarse a consideración para realizar alguna actividad al
              aire libre, especificamente actividades agrícolas.
            </p>
            <br />
          </div>
        </div>
      </div>

      <!-- Stats cards -->
      <div class="row" style="z-index: 2">
        <div class="col-6 col-md-3 mb-3" style="z-index: 2">
          <div class="card stat-card" style="z-index: 2">
            <div class="card-body" style="z-index: 2">
              <h6 class="card-subtitle mb-2 text-muted">Ciudad</h6>
              <h4 class="value" id="ciudad"></h4>
            </div>
          </div>
        </div>
        <div class="col-6 col-md-3 mb-3">
          <div class="card stat-card">
            <div class="card-body">
              <h6 class="card-subtitle mb-2 text-muted">Temperatura Actual</h6>
              <h4 class="value" id="temp-actual"></h4>
              <span class="change positive" id="temp-promedio"></span><br />
            </div>
          </div>
        </div>
        <div class="col-6 col-md-3 mb-3">
          <div class="card stat-card">
            <div class="card-body">
              <h6 class="card-subtitle mb-2 text-muted">Humedad</h6>
              <h4 class="value" id="humedad"></h4>
              <span class="change negative" id="hum-promedio"></span>
            </div>
          </div>
        </div>
        <div class="col-6 col-md-3 mb-3">
          <div class="card stat-card">
            <div class="card-body">
              <h6 class="card-subtitle mb-2 text-muted">Viento</h6>
              <h4 class="value" id="viento"></h4>
              <span class="change positive" id="hum-promedio"></span>
            </div>
          </div>
        </div>
      </div>

      <!-- Charts section -->
      <div class="row mt-4">
        <div class="col-lg-8 mb-4">
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 40px;
              margin: 20px;
            "
          >
            <!-- Gráfica comparativa: Actual vs Histórico -->
            <div class="card">
              <div class="card-header">Historial de Temperatura</div>
              <div class="card-body stat-card">
                <canvas id="compareChart"></canvas>
              </div>
            </div>

            <!-- Gráfica histórica de temperatura -->
            <div class="col-lg-4 mb-4">
              <div>
                <h3>Histórico de Temperatura</h3>
                <div style="height: 500px">
                  <canvas id="tempHistoryChart"></canvas>
                </div>
              </div>
            </div>

            <!-- Gráfica histórica de radiación -->
            <div>
              <h3>Histórico de Radiación</h3>
              <div style="height: 300px">
                <canvas id="radiationHistoryChart"></canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-4 mb-4">
          <div class="card">
            <div class="card-header">Radiación</div>
            <div class="card-body">
              <p class="text-success"></p>
              <h4 class="text-center" id="radiacion"></h4>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer" style="z-index: 2">
      <div class="container" style="z-index: 2">
        <div class="row">
          <!-- Sección Izquierda (Logo y Descripción) -->
          <div class="col-lg-4" style="z-index: 2">
            <div class="col-lg-4" style="z-index: 2">
              <img
                src="img/imagotipo_final1.png"
                alt="Clima México"
                class="footer-logo"
              />
              <p class="footer-text">
                Información meteorológica precisa y actualizada para todos los
                municipios de México.
              </p>
            </div>
          </div>

          <!-- Sección Central (Enlaces útiles) -->
          <div class="col-lg-4" style="z-index: 2">
            <h5>Enlaces útiles</h5>
            <ul class="footer-links">
              <li><a href="#">Acerca de</a></li>
              <li><a href="#">Términos y condiciones de uso</a></li>
              <li><a href="#">Política de privacidad</a></li>
            </ul>
          </div>

          <!-- Sección Derecha (Redes Sociales) -->
          <div class="col-lg-4 text-lg-end" style="z-index: 2">
            <h5>Contáctanos</h5>
            <div class="footer-icons">
              <a href="#"><img src="img/faceico.png" alt="Facebook" /></a>
              <a href="#"><img src="img/instaico.png" alt="Instagram" /></a>
              <a href="#"><img src="img/xico.png" alt="X" /></a>
              <a href="#"><img src="img/youico.png" alt="Youtube" /></a>
            </div>
          </div>
        </div>

        <!-- Línea divisoria -->
        <hr class="footer-line" style="z-index: 2" />

        <!-- Derechos de autor -->
        <p class="footer-copy" style="z-index: 2">
          &copy; 2023 Clima México. Todos los derechos reservados.
        </p>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Ajustar altura de los placeholders para mantener proporción
      function adjustChartHeights() {
        const charts = document.querySelectorAll(".chart-placeholder");
        if (charts.length > 0) {
          const width = charts[0].offsetWidth;
          charts.forEach((chart) => {
            chart.style.height = width * 0.5 + "px"; // Relación de aspecto 2:1
          });
        }
      }

      // Ejecutar al cargar y al redimensionar
      window.addEventListener("load", adjustChartHeights);
      window.addEventListener("resize", adjustChartHeights);
    </script>
    <script src="clima.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@2"></script>

    <svg
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid slice"
      viewBox="0 0 100 100"
      class="anime_background"
    >
      <path
        fill="#0077B6"
        class="naranja"
        d="m38.52809,-5c-12.1832,-9.7 -32.04489,-14.1 -47.29949,-5c-19.75931,11.8 -24.05926,41.1 -10.85226,59c15.86888,21.5 53.8518,22 68.79926,2.3c12.28558,-16.3 6.44993,-42.8 -10.6475,-56.3z"
        transform="scale(0.4)"
      />
      <path
        fill="#0096C7"
        class="amarillo"
        d="m23.53736,4.22653c-9.82841,-2.86149 -24.57103,-1.76091 -31.23251,7.81406c-9.06398,13.0968 -0.21841,37.85966 16.81751,42.70217s37.89399,-12.21634 36.69274,-28.06457c-0.87364,-11.44594 -12.66773,-19.70023 -22.27773,-22.45166z"
        transform="scale(0.4)"
      />
      <path
        fill="#FF5733"
        class="rosa"
        d="m105.9,50.88357c-12.4,-7.98865 -29.3,-4.67628 -39.4,0.77938c-23.4,12.47008 -37.7,50.56228 -19.1,72.19008s63.9,14.90564 76,-5.45566c7.6,-12.95719 1.8,-30.2984 -2.3,-42.67106c-3.5,-10.52163 -6.4,-19.28966 -15.2,-24.84274z"
        transform="scale(0.4)"
      />
      <path
        fill="#fcfc54"
        class="azul"
        d="m101.37962,63.69679c-10.14754,-6.47895 -23.25478,-3.29258 -31.18255,2.12425c-16.27835,11.36472 -20.7179,39.82961 -8.03347,50.76948s37.94758,4.14228 47.03808,-13.27654c6.44792,-12.53305 4.75666,-31.65126 -7.82206,-39.61719z"
        transform="scale(0.4)"
      />
    </svg>
  </body>
</html>
